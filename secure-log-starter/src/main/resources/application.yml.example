# SecureHR Logging SDK Configuration Example
# Copy this to application.yml and customize

secure-hr:
  logging:
    # Enable/disable SDK
    enabled: true

    # Logging mode: SYNC, ASYNC, FALLBACK
    mode: ASYNC

    # Ring buffer size for async logging
    buffer-size: 8192

    # PII Masking Configuration
    pii-masking:
      enabled: true
      patterns:
        - rrn          # Resident Registration Number
        - credit_card  # Credit card numbers
        - password     # Passwords
        - ssn          # Social Security Number

    # Security Configuration
    security:
      # Enable encryption (AES-256-GCM with local key management)
      encryption-enabled: true

      # Enable Merkle Tree integrity
      integrity-enabled: true

      # Emergency mode: RSA public key for emergency decryption (Base64, X.509)
      # emergency-public-key: "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8A..."

    # Semantic Deduplication
    deduplication-enabled: true
    deduplication-window-ms: 1000

    # Kafka Configuration (primary transport)
    kafka:
      bootstrap-servers: "localhost:9092"
      topic: "secure-hr-logs"
      retries: 3
      acks: "all"
      batch-size: 16384
      linger-ms: 1
      compression-type: "zstd"
      max-block-ms: 5000
      security-protocol: "PLAINTEXT"

    # Fallback Configuration (circuit breaker, key storage)
    fallback-directory: "logs/fallback"

# Profile-specific configuration
---
spring:
  config:
    activate:
      on-profile: prod

secure-hr:
  logging:
    mode: ASYNC
    security:
      encryption-enabled: true
      integrity-enabled: true
    kafka:
      bootstrap-servers: "${KAFKA_BOOTSTRAP_SERVERS:kafka-prod:9092}"
      acks: "all"
      compression-type: "zstd"
      # For SSL/SASL authentication
      # security-protocol: "SASL_SSL"

---
spring:
  config:
    activate:
      on-profile: dev

secure-hr:
  logging:
    mode: ASYNC
    security:
      encryption-enabled: false  # Disabled for development
      integrity-enabled: true
    kafka:
      bootstrap-servers: "localhost:9092"
